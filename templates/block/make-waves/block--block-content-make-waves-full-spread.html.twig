{#
/**
* @file
* Theme override to display a headline custom block type
*
* Available variables:
* - plugin_id: The ID of the block implementation.
* - label: The configured label of the block if visible.
* - configuration: A list of the block's configuration values.
*   - label: The configured label for the block.
*   - label_display: The display settings for the label.
*   - provider: The module or other provider that provided this block plugin.
*   - Block plugin specific settings will also be stored here.
* - content: The content of this block.
* - attributes: array of HTML attributes populated by modules, intended to
*   be added to the main container tag of this template.
*   - id: A valid HTML ID and guaranteed unique.
* - title_attributes: Same as attributes, except applied to the main title
*   tag that appears in the template.
* - title_prefix: Additional output populated by modules, intended to be
*   displayed in front of the main title tag that appears in the template.
* - title_suffix: Additional output populated by modules, intended to be
*   displayed after the main title tag that appears in the template.
*
* @see template_preprocess_block()
*/
#}
{%
set classes = [
'make-waves-full-spread',
'block',
'block--make-waves',
'block--full-spread',
'block--' ~ (derivative_plugin_id ? derivative_plugin_id|clean_class : plugin_id|clean_class),
]
%}
{% set attributes = attributes.addClass(classes) %}
{% set title_attributes = title_attributes.addClass('block__title') %}

{{ attach_library('ashlar/make-waves-fonts') }}

<div{{ attributes}}>
  <div class="container {{ block_content.field_spread_orientation.0.value }}">

    <div class="image">
      {% if block_content.field_video_source.0.value != NULL %}
        {% if block_content.field_video_source.0.value == "YouTube" %}
        <a class="play-link" data-featherlight="iframe" data-featherlight-iframe-allow="autoplay; encrypted-media" data-featherlight-iframe-allowfullscreen="true" data-featherlight-iframe-frameborder="0" data-featherlight-iframe-style="display:block;border:none;height:80vh;width:80vw;" href="https://www.youtube.com/embed/{{ block_content.field_video_embed.0.value }}?rel=0&amp;autoplay=1">

        {% elseif block_content.field_video_source.0.value == "Vimeo" %}
        <a class="play-link" data-featherlight="iframe" data-featherlight-iframe-allow="autoplay; encrypted-media" data-featherlight-iframe-allowfullscreen="true" data-featherlight-iframe-frameborder="0" data-featherlight-iframe-style="display:block;border:none;height:80vh;width:80vw;" href="https://player.vimeo.com/video/{{ block_content.field_video_embed.0.value }}?rel=0&amp;autoplay=1">

        {% endif %}

          <img alt="{{ block_content.field_image.0.alt }}" src="{{ file_url(block_content.field_image.entity.fileuri) }}" />

          <span aria-hidden="true" class="play-icon">
            <svg viewbox="0 0 44.56 44.56" xmlns="http://www.w3.org/2000/svg">
              <path d="m22.28 0a22.28 22.28 0 1 0 22.28 22.28 22.28 22.28 0 0 0 -22.28-22.28zm2 27-8.19 4.7v-18.85l8.16 4.72 8.16 4.71z" fill="#fff"></path>
            </svg>
          </span>
          <span class="visually-hidden"> Play video </span>

        </a>

      {% else %}

      <img alt="{{ block_content.field_image.0.alt }}" src="{{ file_url(block_content.field_image.entity.fileuri) }}" />

      {% endif %}

    </div>

    <div class="content block--mave-waves block--make-waves-basic-block blue-bg">
      {{ title_prefix }}
      {% if label %}
        <h2{{ title_attributes }}>{{ label }}</h2>
      {% endif %}
      {{ title_suffix }}

      {{ content }}
    </div>

  </div>
</div>
