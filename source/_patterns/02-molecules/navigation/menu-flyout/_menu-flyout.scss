/*------------------------------------------------------------------------------
Molecule: Menu flyout
--------------------------------------------------------------------------------
Display preferences
------------------------------------------------------------------------------*/
.ultimenu__region {
  @include blue-bg;
  @include breakpoint($medium) {
    flex-flow: row wrap;
    justify-content: space-around;
    width: 100%;
    max-width: 100vw;
    height: inherit;
    background-image: var(--gradient--vertical--blue-to-dark-blue);
  }

  display: flex;
  flex-flow: column;
  padding: var(--space--md);
  font-family: var(--font--condensed);

  .menu {
    li {
      border-left-color: var(--light-green--lighter--20);

      a {
        @include breakpoint($medium) {
          min-height: none;
        }

        display: flex;
        align-items: center;
        min-height: var(--touch-target--min);
        padding: 0 var(--space--sm);
        font-weight: var(--font-weight--md);
      }

      &.menu-item--active-page {
        a:not(.button):not([class*="cta"]):not([class*="taxonomy-term"]) {
          color: var(--dark-blue--darker--60);
          background-color: var(--light-green--lighter--20);
        }
      }
    }

    .menu {
      li {
        border-left: none;
      }

      a {
        padding-left: var(--space--lg);
      }
    }
  }

  h2,
  h3 {
    margin-top: 0;
    margin-bottom: var(--space--xs);
    color: var(--light-green--lighter--20);
    text-shadow: var(--shadow--hard);
    font-size: var(--font-size--2xl);
    font-weight: var(--font-weight--semibold);

    a:not(.button),
    a:not([class*="cta"]) {
      color: var(--light-green--lighter--20);
    }
  }

  h3 {
    font-size: var(--font-size--sm);
  }

  > div {
    @include breakpoint($medium) {
      flex: 0 1 auto;
    }

    flex: 0 1 100%;
    margin: 0 var(--space--sm);
  }
}

/*------------------------------------------------------------------------------
Display preferences
------------------------------------------------------------------------------*/
.font--dyslexia-friendly {
  .ultimenu__region {
    font-family: var(--font--dyslexia-friendly);
  }
}

.font--hyperlegible {
  .ultimenu__region {
    font-family: var(--font--hyperlegible);
  }
}
